{namespace custom=Ameos\AmeosFilemanager\ViewHelpers}
<div class="ameos_file_manager" id="ameos_file_manager_{content_uid}">
	<f:if condition="{folder}">
		<f:then>
			<h3>{folder.title}</h3>

            <f:flashMessages />

			<table cellpadding="0" cellspacing="0" width="100%" border="1">
				<f:render partial="FileManager/HeaderTable" arguments="{content_uid:content_uid}" />

				<f:for each="{files}" as="fi">
                    <custom:canDisplayRow file="{fi}" settings="{settings}" folderRoot="{settings.startFolder}">
                        <f:render partial="FileManager/FileLine" arguments="{fi:fi}" />
                    </custom:canDisplayRow>
				</f:for>
			</table>


		</f:then>
		<f:else>
			<f:translate key="accessDenied"/>
		</f:else>
	</f:if>
</div>
